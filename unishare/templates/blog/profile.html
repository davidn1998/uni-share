{% extends 'layout.html' %}

{% block title %}

    {% if exists %}

        {{username}}
    
    {% else %}
    
        Profile
    
    {% endif %}

{% endblock  %}

{% block header %}
    {{username}}
{% endblock  %}

{% block content  %}

<div class="main container">
    <div class="details">
        <h2>Posts</h2>
    </div>
    <div class="posts">

        {% if exists or logged_in %}

            {% for post in posts %}
            <article class="post">
                <div class="card mb-5">
                    <div class="card-body">
                    <h6 class="card-subtitle mb-2 text-muted">{{post.username}} - {{post.created.strftime('%d/%m/%Y')}}</h6>
                    <h5 class="card-title"> {{post.title}} </h5>
                    <hr>
                    <p class="card-text"> {{post.body}} </p>
                    {% if g.user['id'] == post.author_id %}
                    <a href="{{url_for('blog.update', id=post.id)}}" class="card-link">Edit Post</a>
                    {% endif %}
                    </div>
                </div>
            </article>
            {% endfor %}
        
        {% else %}

            <b>This account doesnâ€™t exist.
            Try searching for another.</b>

        {% endif %}

    </div>

</div>

{% endblock  %}
